<form [formGroup]="bmiForm">
  <div class="flex gap-8">
    <div class="mb-4">
      <div class="flex flex-col">
        <label for>First name</label>
        <input class type="text" formControlName="firstName">
      </div>
    </div>

    <div class="mb-4">
      <div class="flex flex-col">
        <label for>Last name</label>
        <input class type="text" formControlName="lastName">
      </div>
    </div>
  </div>

  <div class="flex gap-8">
    <div class="mb-4">
      <div class="flex flex-col">
        <label for>Email</label>
        <input class type="text" formControlName="email">
        <span *ngIf="emailErrors?.['email']" class="pt-2 text-sm text-red-400">
          Please enter a valid email.
        </span>
      </div>
    </div>
  </div>

  <div class="mb-[0.125rem] block min-h-[1.5rem] pl-[1.5rem]">
    <input
      class="relative float-left -ml-[1.5rem] mr-1 mt-0.5 h-5 w-5 appearance-none rounded-full border-2 border-solid border-neutral-300 before:pointer-events-none before:absolute before:h-4 before:w-4 before:scale-0 before:rounded-full before:bg-transparent before:opacity-0 before:shadow-[0px_0px_0px_13px_transparent] before:content-[''] after:absolute after:z-[1] after:block after:h-4 after:w-4 after:rounded-full after:content-[''] checked:border-primary checked:before:opacity-[0.16] checked:after:absolute checked:after:left-1/2 checked:after:top-1/2 checked:after:h-[0.625rem] checked:after:w-[0.625rem] checked:after:rounded-full checked:after:border-primary checked:after:bg-primary checked:after:content-[''] checked:after:[transform:translate(-50%,-50%)] hover:cursor-pointer hover:before:opacity-[0.04] hover:before:shadow-[0px_0px_0px_13px_rgba(0,0,0,0.6)] focus:shadow-none focus:outline-none focus:ring-0 focus:before:scale-100 focus:before:opacity-[0.12] focus:before:shadow-[0px_0px_0px_13px_rgba(0,0,0,0.6)] focus:before:transition-[box-shadow_0.2s,transform_0.2s] checked:focus:border-primary checked:focus:before:scale-100 checked:focus:before:shadow-[0px_0px_0px_13px_#3b71ca] checked:focus:before:transition-[box-shadow_0.2s,transform_0.2s] dark:border-neutral-600 dark:checked:border-primary dark:checked:after:border-primary dark:checked:after:bg-primary dark:focus:before:shadow-[0px_0px_0px_13px_rgba(255,255,255,0.4)] dark:checked:focus:border-primary dark:checked:focus:before:shadow-[0px_0px_0px_13px_#3b71ca]"
      type="radio"
      [value]="'Male'"
      formControlName="gender"
      id="radioDefault01" />
    <label
      class="mt-px inline-block pl-[0.15rem] hover:cursor-pointer"
      for="radioDefault01">
      Male
    </label>
  </div>
  <div class="mb-[0.125rem] block min-h-[1.5rem] pl-[1.5rem]">
    <input
      class="relative float-left -ml-[1.5rem] mr-1 mt-0.5 h-5 w-5 appearance-none rounded-full border-2 border-solid border-neutral-300 before:pointer-events-none before:absolute before:h-4 before:w-4 before:scale-0 before:rounded-full before:bg-transparent before:opacity-0 before:shadow-[0px_0px_0px_13px_transparent] before:content-[''] after:absolute after:z-[1] after:block after:h-4 after:w-4 after:rounded-full after:content-[''] checked:border-primary checked:before:opacity-[0.16] checked:after:absolute checked:after:left-1/2 checked:after:top-1/2 checked:after:h-[0.625rem] checked:after:w-[0.625rem] checked:after:rounded-full checked:after:border-primary checked:after:bg-primary checked:after:content-[''] checked:after:[transform:translate(-50%,-50%)] hover:cursor-pointer hover:before:opacity-[0.04] hover:before:shadow-[0px_0px_0px_13px_rgba(0,0,0,0.6)] focus:shadow-none focus:outline-none focus:ring-0 focus:before:scale-100 focus:before:opacity-[0.12] focus:before:shadow-[0px_0px_0px_13px_rgba(0,0,0,0.6)] focus:before:transition-[box-shadow_0.2s,transform_0.2s] checked:focus:border-primary checked:focus:before:scale-100 checked:focus:before:shadow-[0px_0px_0px_13px_#3b71ca] checked:focus:before:transition-[box-shadow_0.2s,transform_0.2s] dark:border-neutral-600 dark:checked:border-primary dark:checked:after:border-primary dark:checked:after:bg-primary dark:focus:before:shadow-[0px_0px_0px_13px_rgba(255,255,255,0.4)] dark:checked:focus:border-primary dark:checked:focus:before:shadow-[0px_0px_0px_13px_#3b71ca]"
      type="radio"
      [value]="'Female'"
      formControlName="gender"
      id="radioDefault02"
      checked />
    <label
      class="mt-px inline-block pl-[0.15rem] hover:cursor-pointer"
      for="radioDefault02">
      Female
    </label>
  </div>

  <div class="mb-8">
    Your Height
  </div>
  <div class="flex gap-8">
    <div class="mb-4">
      <div class="flex flex-col">
        <label for>Feet</label>
        <input class type="number" formControlName="feet">
        <span *ngIf="bmiForm.get('feet')?.errors" class="pt-2 text-sm text-red-400">
          Value should be between 0 - 7.
        </span>
      </div>
    </div>
    <div class="mb-4">
      <div class="flex flex-col">
        <label for>Inches</label>
        <input class type="number" formControlName="inches">
        <span *ngIf="bmiForm.get('inches')?.errors" class="pt-2 text-sm text-red-400">
          Value should be between 0 - 12.
        </span>
      </div>
    </div>

    <div class="flex items-center">
      = {{ ((bmiForm.get('feet')?.value ?? 0) | feetToInches) +  (bmiForm.get('inches')?.value ?? 0)}} inches
    </div>
  </div>

  <div class="flex gap-8">
    <div class="mb-4">
      <div class="flex flex-col">
        <label for>Weight</label>
        <input class type="number" formControlName="weight">
        <span *ngIf="bmiForm.get('weight')?.errors" class="pt-2 text-sm text-red-400">
          Value should be between 0 - 200.
        </span>
      </div>
    </div>
    <div class="flex items-center">
      = {{ (bmiForm.get('weight')?.value ?? 0) | kgToPound | number }} pounds
    </div>
  </div>

  <div class>
    <button
      (click)="showScore()"
      class="py-3 px-8 rounded-sm bg-blue-700 text-white hover:bg-blue-600">Submit</button>
  </div>
</form>

<section *ngIf="isScoreDisplayed" class="mt-12">
  <p>
    Dear {{ getSalutation() }}
    {{ bmiForm.get('firstName')?.value + ' ' + bmiForm.get('lastName')?.value }},
    Your BMI is {{ bmi | number }}. Your weight range is {{ weightRange }}.
  </p>
  <p>
    A copy of the result will be sent to your email {{ bmiForm.get('email')?.value }}.
  </p>
</section>
